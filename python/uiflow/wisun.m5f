{"components":[{"id":"____screen","createTime":1572183245508,"name":"Screen","x":0,"y":0,"width":320,"height":240,"backgroundColor":"#222222","backgroundImage":"","type":"screen"},{"id":"____buttonA","createTime":1572183245508,"name":"ButtonA","buttonIndex":0,"x":35,"y":216,"width":64,"height":24,"text":"ButtonA","visibility":false,"type":"button"},{"id":"____buttonB","createTime":1572183245508,"name":"ButtonB","buttonIndex":1,"x":125,"y":216,"width":64,"height":24,"text":"ButtonB","visibility":false,"type":"button"},{"id":"____buttonC","createTime":1572183245508,"name":"ButtonC","buttonIndex":2,"x":215,"y":216,"width":64,"height":24,"text":"ButtonC","visibility":false,"type":"button"},{"id":"scsK8^+Mp0aehy7o","createTime":1572183339609,"name":"instant_power","x":152,"y":36,"color":"#FFFFFF","text":"----","font":"lcd.FONT_DejaVu56","rotation":0,"type":"label","layer":5},{"id":"FYWR3aADuJG9yLyN","createTime":1572183398098,"name":"label0","x":2,"y":56,"color":"#FFFFFF","text":"[kW]","font":"lcd.FONT_DejaVu24","rotation":0,"type":"label","layer":6},{"id":"aW4^q`F=rHkj=gq^","createTime":1572183460248,"name":"label1","x":3,"y":28,"color":"#FFFFFF","text":"Instant Power","font":"lcd.FONT_DejaVu18","rotation":0,"type":"label","layer":7},{"id":"czLZNN!!R#R1eetd","createTime":1572183488515,"name":"rectangle0","x":0,"y":90,"width":320,"height":2,"borderColor":"#FFFFFF","backgroundColor":"#FFFFFF","type":"rectangle","layer":8},{"id":"F_fS9Q2pey09u-qg","createTime":1572183543309,"name":"statusRect","x":0,"y":0,"width":320,"height":24,"borderColor":"#FFFFFF","backgroundColor":"#FFFFFF","type":"rectangle","layer":9},{"id":"y_mmeoD5hHHpcDZb","createTime":1572183567870,"name":"statusLabel","x":2,"y":2,"color":"#000000","text":"Status:","font":"lcd.FONT_DejaVu18","rotation":0,"type":"label","layer":10},{"id":"HgYs_u06L8VwqhZC","createTime":1572183605772,"name":"statusValue","x":127,"y":3,"color":"#000000","text":"INITIALIZING","font":"lcd.FONT_DejaVu18","rotation":0,"type":"label","layer":11},{"id":"IC$FoN^be+T5OUZ8","createTime":1572369065786,"name":"ambientIndicator","x":297,"y":11,"radius":8,"borderColor":"#000000","backgroundColor":"#71ff00","type":"circle","layer":12}],"type":"core","versions":"Beta","units":[],"hats":[],"blockly":"<variables><variable type=\"\" id=\"H/+d|^{g`3VuxQn%PNNm\">arg_instant_power</variable><variable type=\"\" id=\"A1g*T[YR:*?s.7fO2GJj\">arg_cumulative_power</variable><variable type=\"\" id=\"_]$CWQX%e%pdEJCVkE8i\">arg_timestamp</variable><variable type=\"\" id=\"[L{;[FY1$3qo#OaA6Z/b\">values</variable><variable type=\"\" id=\"C.1-Pby,VxY1cul2ZT(7\">wisun_state</variable><variable type=\"\" id=\"xdkH$V[EvZ4`cOg{Ud/4\">wisun_instant_power</variable></variables><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"50\" y=\"50\"><next><block type=\"__myconfig_initialize\" id=\"~G=U?{h${Z_im-@Lz@^b\"><next><block type=\"wifi_connect\" id=\"r=G5*1KSsw|V]vqR~tPh\"><field name=\"wifi\">false</field><next><block type=\"__WiSUN_start\" id=\"gGtJZ`c,Avn`N;.?`oW^\"><field name=\"rx\">2</field><field name=\"tx\">5</field><field name=\"reset\">26</field><field name=\"use_i2c\">True</field><field name=\"log_debug\">True</field><value name=\"route_b_id\"><block type=\"__myconfig_value\" id=\":vIi9:spm(XPW*$(ceQR\"><field name=\"name\">route_b_id</field></block></value><value name=\"route_b_password\"><block type=\"__myconfig_value\" id=\"61j]+3jyAvlsci|xY3_m\"><field name=\"name\">route_b_password</field></block></value><next><block type=\"controls_whileUntil\" id=\"QJ@2SAQ:6cx.5Ugnfw#[\"><field name=\"MODE\">WHILE</field><value name=\"BOOL\"><block type=\"logic_boolean\" id=\"_0.E(Q20U`k(E@y#pgkI\"><field name=\"BOOL\">TRUE</field></block></value><statement name=\"DO\"><block type=\"variables_set\" id=\"g_sgp~bp#ulg*s7%X%s!\"><field name=\"VAR\" id=\"[L{;[FY1$3qo#OaA6Z/b\" variabletype=\"\">values</field><value name=\"VALUE\"><block type=\"__WiSUN_values_blocked\" id=\"Hfrw:sp|rzXp;-m+(PnB\"></block></value><next><block type=\"variables_set\" id=\"4EOM`6.W5csBy07(1:kk\"><field name=\"VAR\" id=\"C.1-Pby,VxY1cul2ZT(7\" variabletype=\"\">wisun_state</field><value name=\"VALUE\"><block type=\"get_map_key\" id=\"6t|o0J|]jpT%Q`.d];]A\"><value name=\"key\"><block type=\"text\" id=\"sOAWa]Lk|n4S)5Irr,p8\"><field name=\"TEXT\">state</field></block></value><value name=\"map\"><block type=\"variables_get\" id=\"52r;]T4AkZG1T-O*NYZ]\"><field name=\"VAR\" id=\"[L{;[FY1$3qo#OaA6Z/b\" variabletype=\"\">values</field></block></value></block></value><next><block type=\"variables_set\" id=\"~h]ti9j|*5]8V.o2]rmB\"><field name=\"VAR\" id=\"xdkH$V[EvZ4`cOg{Ud/4\" variabletype=\"\">wisun_instant_power</field><value name=\"VALUE\"><block type=\"get_map_key\" id=\"/]4?0UL94p:Z+*dSKe8X\"><value name=\"key\"><block type=\"text\" id=\"A;)wYgqUE;1?L}zNKFTj\"><field name=\"TEXT\">instant_power</field></block></value><value name=\"map\"><block type=\"variables_get\" id=\"HVKo/FX#=ug;JlQv7`,p\"><field name=\"VAR\" id=\"[L{;[FY1$3qo#OaA6Z/b\" variabletype=\"\">values</field></block></value></block></value><next><block type=\"controls_if\" id=\"}fTroP:l-dfx2V09bw^@\"><mutation elseif=\"4\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"lyqmy%?x8;x^WV2A0=Ty\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"J%*QLL@prI1oHDeZXyKO\"><field name=\"VAR\" id=\"C.1-Pby,VxY1cul2ZT(7\" variabletype=\"\">wisun_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"GBW!!`.IKMtW-|!)mrMY\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"label_set_text\" id=\"}Svc8#vhW2!#N$^U7Es0\"><field name=\"COMPONENT\">statusValue</field><value name=\"TEXT\"><shadow type=\"text\" id=\"uo8}3k`E)cpD^F{SSBoy\"><field name=\"TEXT\">INITIALIZING</field></shadow></value></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"^_^L%=;8h]JuzB:2pY^x\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"k=SsI(m|5j0Hn}d%s3uV\"><field name=\"VAR\" id=\"C.1-Pby,VxY1cul2ZT(7\" variabletype=\"\">wisun_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"nP_Nn)mf?YPQ3fohEOyn\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO1\"><block type=\"label_set_text\" id=\"j3re~W-SE.CoOHP6ypS;\"><field name=\"COMPONENT\">statusValue</field><value name=\"TEXT\"><shadow type=\"text\" id=\"G8[si$,6a*M?KQ4p[#b7\"><field name=\"TEXT\">SCANNING</field></shadow></value></block></statement><value name=\"IF2\"><block type=\"logic_compare\" id=\"hC|1DhH~n/yag4nr|:,f\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"GNi0K?S[zD8b=~lT(]}j\"><field name=\"VAR\" id=\"C.1-Pby,VxY1cul2ZT(7\" variabletype=\"\">wisun_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\":S}~~5?Un7sxRkg7]/%I\"><field name=\"NUM\">2</field></block></value></block></value><statement name=\"DO2\"><block type=\"label_set_text\" id=\"uD+2[kp`;s[U`XAs11DP\"><field name=\"COMPONENT\">statusValue</field><value name=\"TEXT\"><shadow type=\"text\" id=\"BdYo=X_|!S8s32,|r:Ae\"><field name=\"TEXT\">CONNECTING</field></shadow></value></block></statement><value name=\"IF3\"><block type=\"logic_compare\" id=\"Ek720B0t8HT1.G^]VWLn\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"B!)f6Mrzj1P#xM-,)Cp*\"><field name=\"VAR\" id=\"C.1-Pby,VxY1cul2ZT(7\" variabletype=\"\">wisun_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"U()9BigGff@YC;ACjf+M\"><field name=\"NUM\">3</field></block></value></block></value><statement name=\"DO3\"><block type=\"label_set_text\" id=\"i,*z.gla|~fuJU5AKL9f\"><field name=\"COMPONENT\">statusValue</field><value name=\"TEXT\"><shadow type=\"text\" id=\"MQHr!|AR[DR]N.F~z~)T\"><field name=\"TEXT\">CONNECTED</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\".}.GW`RT}+qb@z)(.}YI\"><mutation name=\"post_ambient\"><arg name=\"arg_instant_power\"></arg><arg name=\"arg_cumulative_power\"></arg><arg name=\"arg_timestamp\"></arg></mutation><value name=\"ARG0\"><block type=\"get_map_key\" id=\"[gJ*?Q`%_RkJ;1@X%S1=\"><value name=\"key\"><block type=\"text\" id=\";.3IOZK{snNL?rPE*Z!c\"><field name=\"TEXT\">instant_power</field></block></value><value name=\"map\"><block type=\"variables_get\" id=\"KZ[{QCcGnbBORg/LTy(d\"><field name=\"VAR\" id=\"[L{;[FY1$3qo#OaA6Z/b\" variabletype=\"\">values</field></block></value></block></value><value name=\"ARG1\"><block type=\"get_map_key\" id=\"!:jQt!#zkbhZED5sQLk.\"><value name=\"key\"><block type=\"text\" id=\"fFO!AdjkWlgU98T0yl=?\"><field name=\"TEXT\">cumulative_power</field></block></value><value name=\"map\"><block type=\"variables_get\" id=\"Dv=+XOBD6]+GZ0gtmqaY\"><field name=\"VAR\" id=\"[L{;[FY1$3qo#OaA6Z/b\" variabletype=\"\">values</field></block></value></block></value><value name=\"ARG2\"><block type=\"get_map_key\" id=\"fsbFWl}Yd@.SYW`h{{Kr\"><value name=\"key\"><block type=\"text\" id=\"d%,.n-8A[$Xgj4!5zWBC\"><field name=\"TEXT\">timestamp</field></block></value><value name=\"map\"><block type=\"variables_get\" id=\"(!L}{1%Lm$a3cT*-c_`V\"><field name=\"VAR\" id=\"[L{;[FY1$3qo#OaA6Z/b\" variabletype=\"\">values</field></block></value></block></value></block></next></block></statement><value name=\"IF4\"><block type=\"logic_compare\" id=\"^:@AH34lutE/pC#gX/@y\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"o-!/#S-!b!@MNO=**/.w\"><field name=\"VAR\" id=\"C.1-Pby,VxY1cul2ZT(7\" variabletype=\"\">wisun_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\";v]Tep=agB#@_P1S{-;}\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO4\"><block type=\"label_set_text\" id=\"Y:aw[S;1}D|[CL/~XdC!\"><field name=\"COMPONENT\">statusValue</field><value name=\"TEXT\"><shadow type=\"text\" id=\"HRR_aah6?)_%)kTHRJ_[\"><field name=\"TEXT\">ERROR</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"label_set_text\" id=\"!mg!,$p6)sNik8ggaOb=\"><field name=\"COMPONENT\">statusValue</field><value name=\"TEXT\"><shadow type=\"text\" id=\";_^0xs1IrGE=s+pjy,9I\"><field name=\"TEXT\">UNKNOWN</field></shadow></value></block></statement><next><block type=\"controls_if\" id=\"#4[ZZ/c_H;1v6*ko%0vW\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"p4~xNNvze=JnHM-*0_^h\"><field name=\"OP\">NEQ</field><value name=\"A\"><block type=\"variables_get\" id=\"WxQm*#D*!]QUsA+ZMjq4\"><field name=\"VAR\" id=\"xdkH$V[EvZ4`cOg{Ud/4\" variabletype=\"\">wisun_instant_power</field></block></value><value name=\"B\"><block type=\"logic_null\" id=\"-Z);TxW%1[jV{LE%aR0J\"></block></value></block></value><statement name=\"DO0\"><block type=\"label_set_text\" id=\"?P)2wF7~aAhe1gC-Nd=G\"><field name=\"COMPONENT\">instant_power</field><value name=\"TEXT\"><shadow type=\"text\" id=\"h8XvhFwvJC`Dxd.xA4cr\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"variables_get\" id=\"{:RRP4*a9mm$}s(A,L4W\"><field name=\"VAR\" id=\"xdkH$V[EvZ4`cOg{Ud/4\" variabletype=\"\">wisun_instant_power</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"label_set_text\" id=\"DfCt|y17$kn!r_)(Uzxe\"><field name=\"COMPONENT\">instant_power</field><value name=\"TEXT\"><shadow type=\"text\" id=\"h8XvhFwvJC`Dxd.xA4cr\"><field name=\"TEXT\">----</field></shadow></value></block></statement></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block><block type=\"procedures_defnoreturn\" id=\"8?Y!B-yX$u~Opz_;PAW0\" x=\"850\" y=\"190\"><mutation><arg name=\"arg_instant_power\" varid=\"H/+d|^{g`3VuxQn%PNNm\"></arg><arg name=\"arg_cumulative_power\" varid=\"A1g*T[YR:*?s.7fO2GJj\"></arg><arg name=\"arg_timestamp\" varid=\"_]$CWQX%e%pdEJCVkE8i\"></arg></mutation><field name=\"NAME\">post_ambient</field><statement name=\"STACK\"><block type=\"http_request\" id=\"Hd1I_F_`-ts8+5DIRQ3a\"><field name=\"method\">POST</field><value name=\"url\"><shadow type=\"text\" id=\"-8nVN6W9,@{0Ew6s1]|0\"><field name=\"TEXT\"></field></shadow><block type=\"text_add\" id=\"1|b++EP0~;k:[9(d6v*6\"><value name=\"arg0\"><shadow type=\"text\" id=\"wCEmBl|v7byoVPsw@o`s\"><field name=\"TEXT\">http://ambidata.io/api/v2/channels/</field></shadow></value><value name=\"arg1\"><block type=\"text_add\" id=\"-*!$SFD/M+kEGf15~b/O\"><value name=\"arg0\"><shadow type=\"text\" id=\"kq3g8+Z#I[%EWrvTGmDG\"><field name=\"TEXT\">http://ambidata.io/api/v2/channels/</field></shadow><block type=\"__myconfig_value\" id=\"b%`:0z%$4C!D,)(JJl-R\"><field name=\"name\">ambient_channel_id</field></block></value><value name=\"arg1\"><block type=\"text\" id=\"8fh$_GKmXK=P=!Aw:9bi\"><field name=\"TEXT\">/dataarray</field></block></value></block></value></block></value><value name=\"headers\"><block type=\"map_on_loop\" id=\"ylB(t|@yklh,xF,Yr]y`\"><statement name=\"LOOP\"><block type=\"create_map_key\" id=\"igD#t:D_=oB1:D#uw;rB\"><value name=\"key\"><block type=\"text\" id=\"7HV!jI8/Jq@UI^46u4Rw\"><field name=\"TEXT\">Content-Type</field></block></value><value name=\"value\"><block type=\"text\" id=\"b^=?JIWDmv@w?c1(wQBD\"><field name=\"TEXT\">application/json</field></block></value></block></statement></block></value><value name=\"data\"><block type=\"map_on_loop\" id=\"Hn|7ci#g_CDzPqlPWNEq\"><statement name=\"LOOP\"><block type=\"create_map_key\" id=\"^)DP:YJ`JwDHZc3Czz.f\"><value name=\"key\"><block type=\"text\" id=\"+T+c+bo)Twe_*vVrKA%K\"><field name=\"TEXT\">writeKey</field></block></value><value name=\"value\"><block type=\"__myconfig_value\" id=\"^NyTq(ii%DQ|/in6:NC6\"><field name=\"name\">ambient_write_key</field></block></value><next><block type=\"create_map_key\" id=\"bqx(9QmNP@p~I5CsR_F(\"><value name=\"key\"><block type=\"text\" id=\"LydU-e$$oRpV!E1w9fAr\"><field name=\"TEXT\">data</field></block></value><value name=\"value\"><block type=\"lists_create_with\" id=\",w)E(UIIu{!quqtVciTE\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"map_on_loop\" id=\"tMru2qDdzkx`On6;.j2|\"><statement name=\"LOOP\"><block type=\"create_map_key\" id=\"cxYG!!S#MI+VSk794}DI\"><value name=\"key\"><block type=\"text\" id=\"qSf[[./mvvqQfxOJX`fS\"><field name=\"TEXT\">d1</field></block></value><value name=\"value\"><block type=\"variables_get\" id=\"CWoP%y@y=Vet6?;mTQ=J\"><field name=\"VAR\" id=\"H/+d|^{g`3VuxQn%PNNm\" variabletype=\"\">arg_instant_power</field></block></value><next><block type=\"create_map_key\" id=\"`?IQ2y[f_:xUq~Bw.UJc\"><value name=\"key\"><block type=\"text\" id=\"Hu6m)qk3P%+p~ufP{`ZP\"><field name=\"TEXT\">d2</field></block></value><value name=\"value\"><block type=\"variables_get\" id=\"}oCr/@GGA9EV({%(%P|$\"><field name=\"VAR\" id=\"A1g*T[YR:*?s.7fO2GJj\" variabletype=\"\">arg_cumulative_power</field></block></value><next><block type=\"create_map_key\" id=\"yQn9S{SW9vSm%/z9!AE/\"><value name=\"key\"><block type=\"text\" id=\"Gw$(uj47z0jOMZ,(CQ7/\"><field name=\"TEXT\">d3</field></block></value><value name=\"value\"><block type=\"variables_get\" id=\",k38_V8bdFlXx5Xqbupz\"><field name=\"VAR\" id=\"_]$CWQX%e%pdEJCVkE8i\" variabletype=\"\">arg_timestamp</field></block></value></block></next></block></next></block></statement></block></value></block></value></block></next></block></statement></block></value><statement name=\"success\"><block type=\"circle_set_bgcolor\" id=\"(9de.+$|!q^[isj0c^kL\"><field name=\"COMPONENT\">ambientIndicator</field><field name=\"COLOR\">#33ff33</field></block></statement><statement name=\"fail\"><block type=\"circle_set_bgcolor\" id=\"UJ]__CXBAG,lwaz}]tOL\"><field name=\"COMPONENT\">ambientIndicator</field><field name=\"COLOR\">#ff0000</field></block></statement></block></statement></block><block type=\"text\" id=\"Ks:=O|nw6D|`L;%ys|i(\" disabled=\"true\" x=\"1111\" y=\"544\"><field name=\"TEXT\">writeKey</field></block>","Blockly.Remotes":[],"modules":[]}